#!/bin/bash
set -e

if [ ! -f "resources/Monty.jpg" ]; then
	cd ~/Desktop
	git clone https://github.com/bdcollins18/Configuration.git
	cd Configuration
fi

open todo-list.html

/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

brew update

brew install git

brew install bash

brew install coreutils

brew install moreutils

brew install diffutils

brew install findutils

brew install mas

brew install python

brew install java

sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk

brew install fish

echo $(which fish) | sudo tee -a /etc/shells

sudo chsh -s $(which fish)

mas install 926036361 #LastPass

brew install --cask little-snitch

brew install --cask sound-source

mas install 441258766 #Magnet

brew install --cask spotify

brew install --cask discord

brew install --cask league-of-legends

brew install --cask steam

brew install --cask sublime-text

brew install --cask transmission

mas install 1451685025 #WireGaurd

brew install --cask qr-journal

open -a 'WireGuard'

open -a 'QR Journal'

read -p 'Setup WireGuard and Enter A Host to Test: ' HOST

ping -c 1 $HOST

killall 'QR Journal'

brew remove 'qr-journal'

brew tap bdcollins18/tap

brew install --cask duplicacy-cli

cd ~/Documents

echo 'Setting up Duplicacy with SFTP'
read -p 'Enter a USER:HOST: ' USERHOST

duplicacy init documents sftp://$USERHOST//bigslappy/backup/

REVISION=$(duplicacy list | tail -n 1 | grep -o -e "[0-9]\+" | head -n 1)

duplicacy restore -r $REVISION

/bin/bash macos-defaults